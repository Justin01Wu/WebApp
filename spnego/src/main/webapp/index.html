<html>
<head>
	<title>Spnego JWT</title>	
</head>

<body>
	<h2>This is a demo for Spnego JWT Token</h2>
	
	It used Spnego protocol to authenticate user, then generate JWT Token:<br/> <br/>
	
	 UserName: <label id=userName></label><br/>
	 CreatedTime: <label id=createdTime></label><br/>
	 ExpiredTime: <label id=expiredTime></label><br/>
	 JWTToken: <textarea id=JWTToken cols="100" rows="5" readonly="readonly"></textarea><br/>
	 
<script>
(function() {
	// use anonymous function to avoid JS global variable conflict

	'use strict';

	var request = new XMLHttpRequest()

	request.open('GET', '/spnego/JWTTokenServlet', true)

	request.onload = function() {
		 
		var data = JSON.parse(this.response);
		document.getElementById("userName").innerHTML  = data.userName;
		var date = new Date(data.JWTCreated);
		document.getElementById("createdTime").innerHTML = date.toString();
		date = new Date(data.JWTExpired);
		document.getElementById("expiredTime").innerHTML = date;
		document.getElementById("JWTToken").value = data.JWTToken;
	}
	
	request.send()

}()); 

</script>
</body>
</html>
